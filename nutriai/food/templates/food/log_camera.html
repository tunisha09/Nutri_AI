{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container">
    <h2>Log Food via Camera</h2>
    <form id="mealForm" method="post">
        {% csrf_token %}
        <div class="form-group">
            <video id="cameraFeed" width="400" height="300" autoplay></video>
            <canvas id="canvas" width="400" height="300" style="display:none;"></canvas>
            <input type="hidden" id="hiddenImage" name="food_image">
            <button type="button" id="captureBtn" class="btn btn-secondary">Capture Photo</button>
        </div>
        <div class="form-group">
            <label for="mealType">Meal Type:</label>
            <select id="mealType" name="meal_type" class="form-control">
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="dinner">Dinner</option>
                <option value="snack" selected>Snack</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
<script src="{% static 'js/camera.js' %}"></script>
{% endblock %}
